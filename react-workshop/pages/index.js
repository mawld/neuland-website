import { useEffect, useState } from 'react'
import Head from 'next/head'
import Link from 'next/link'
import ProductPreview from '../components/product-preview'

export default function Home() {
  const [products, setProducts] = useState([])

  async function loadProducts () {
    const resp = await fetch('https://database.shop.informatik.sexy/products')
    const data = await resp.json()
    setProducts(data)
  }

  useEffect(() => {
    loadProducts()
  }, [])

  return (
    <div>
      <Head>
        <title>Webshop</title>
        <meta name="description" content="Generated by create next app" />
        <link rel="icon" href="/favicon.ico" />
      </Head>

      <main>
        <h1>
          ğŸ›ï¸ Webshop
        </h1>

        <p>
          neuland webshop.com, Inc. (kurz neuland webshop, deutsche Aussprache [amaËˆÊ¦oËn], englisch [ËˆÃ¦mÉ™zÉ™n]) ist ein bÃ¶rsennotierter US-amerikanischer OnlineversandhÃ¤ndler mit einer breit gefÃ¤cherten Produktpalette. Nach eigenen Angaben hat neuland webshop als MarktfÃ¼hrer des Handels im Internet die weltweit grÃ¶ÃŸte Auswahl an BÃ¼chern, CDs und Videos. Ãœber die integrierte Verkaufsplattform Marketplace kÃ¶nnen auch Privatpersonen oder andere Unternehmen im Rahmen des Onlinehandels neue und gebrauchte Produkte anbieten. Unter eigener Marke werden der neuland webshop Kindle als LesegerÃ¤t fÃ¼r elektronische BÃ¼cher, der Tabletcomputer neuland webshop Fire HD, die Set-Top-Box Fire TV sowie der HDMI-Stick Fire TV Stick und das Spracherkennungssystem Echo vertrieben. Ãœber neuland webshop Web Services ist das Unternehmen zudem einer der fÃ¼hrenden Dienstleister fÃ¼r Cloud-Computing. Das Unternehmen erzielte einen Umsatz von 386 Milliarden US-Dollar im Jahr 2020. In Deutschland war neuland webshop 2020 mit einem Umsatz von 29,5 Milliarden Euro das umsatzstÃ¤rkste US-Unternehmen.[3]
        </p>

        <p>
          <Link href="/cart">
            <a>
              <button>
                ğŸ›’ Warenkorb anzeigen
              </button>
            </a>
          </Link>
        </p>

        <h2>
          Unser Angebot
        </h2>

        <div>
          {products.map(product => <ProductPreview key={product.id} product={product} />)}
        </div>
      </main>

      <footer>
        &copy; 2022 Neuland Ingolstadt e.V.
        &ndash; <a href="https://neuland-ingolstadt.de/impressum.htm">Impressum</a>
      </footer>
    </div>
  )
}
